{"compilers":[{"contractTypes":["IOnchainJpg","OnchainJpg"],"name":"solidity","settings":{"optimizer":{"enabled":true,"runs":200},"outputSelection":{"contracts/IonchainJpg.sol":{"":["ast"],"*":["abi","bin-runtime","devdoc","userdoc","evm.bytecode.object","evm.bytecode.sourceMap","evm.deployedBytecode.object"]},"contracts/onchainJpg.sol":{"":["ast"],"*":["abi","bin-runtime","devdoc","userdoc","evm.bytecode.object","evm.bytecode.sourceMap","evm.deployedBytecode.object"]}}},"version":"0.8.10+commit.fc410830"}],"contractTypes":{"IOnchainJpg":{"abi":[{"inputs":[{"internalType":"string","name":"mimeType","type":"string"},{"internalType":"string","name":"base64Data","type":"string"}],"name":"addImage","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"imageId","type":"uint256"}],"name":"getImage","outputs":[{"internalType":"string","name":"mimeType","type":"string"},{"internalType":"string","name":"base64Data","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"imageCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}],"contractName":"IOnchainJpg","deploymentBytecode":{"bytecode":"0x"},"devdoc":{"kind":"dev","methods":{},"version":1},"methodIdentifiers":{"addImage(string,string)":"0xa6eecd18","getImage(uint256)":"0x2607aafa","imageCount()":"0x92053b63"},"runtimeBytecode":{"bytecode":"0x"},"sourceId":"contracts/IonchainJpg.sol","sourcemap":"","userdoc":{"kind":"user","methods":{},"version":1}},"OnchainJpg":{"abi":[{"inputs":[{"internalType":"string","name":"mimeType","type":"string"},{"internalType":"string","name":"base64Data","type":"string"}],"name":"addImage","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"imageId","type":"uint256"}],"name":"getImage","outputs":[{"internalType":"string","name":"mimeType","type":"string"},{"internalType":"string","name":"base64Data","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"imageCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}],"contractName":"OnchainJpg","deploymentBytecode":{"bytecode":"0x608060405234801561001057600080fd5b506106b4806100206000396000f3fe608060405234801561001057600080fd5b50600436106100415760003560e01c80632607aafa1461004657806392053b6314610070578063a6eecd1814610087575b600080fd5b610059610054366004610435565b61009a565b6040516100679291906104aa565b60405180910390f35b61007960015481565b604051908152602001610067565b61007961009536600461057b565b610222565b60608060015483106100ea5760405162461bcd60e51b8152602060048201526014602482015273125b5859d948191bd95cc81b9bdd08195e1a5cdd60621b60448201526064015b60405180910390fd5b6000838152602081905260409020805481906001820190829061010c906105df565b80601f0160208091040260200160405190810160405280929190818152602001828054610138906105df565b80156101855780601f1061015a57610100808354040283529160200191610185565b820191906000526020600020905b81548152906001019060200180831161016857829003601f168201915b50505050509150808054610198906105df565b80601f01602080910402602001604051908101604052809291908181526020018280546101c4906105df565b80156102115780601f106101e657610100808354040283529160200191610211565b820191906000526020600020905b8154815290600101906020018083116101f457829003601f168201915b505050505090509250925050915091565b60405168696d6167652f706e6760b81b60208201526000906029016040516020818303038152906040528051906020012083604051602001610264919061061a565b6040516020818303038152906040528051906020012014806102d9575060405169696d6167652f6a70656760b01b6020820152602a0160405160208183030381529060405280519060200120836040516020016102c1919061061a565b60405160208183030381529060405280519060200120145b61031e5760405162461bcd60e51b8152602060048201526016602482015275556e737570706f7274656420696d616765207479706560501b60448201526064016100e1565b60408051808201825284815260208082018590526001546000908152808252929092208151805192939192610356928492019061039c565b50602082810151805161036f926001850192019061039c565b505060018054915060006103828361064c565b9190505550600180546103959190610667565b9392505050565b8280546103a8906105df565b90600052602060002090601f0160209004810192826103ca5760008555610410565b82601f106103e357805160ff1916838001178555610410565b82800160010185558215610410579182015b828111156104105782518255916020019190600101906103f5565b5061041c929150610420565b5090565b5b8082111561041c5760008155600101610421565b60006020828403121561044757600080fd5b5035919050565b60005b83811015610469578181015183820152602001610451565b83811115610478576000848401525b50505050565b6000815180845261049681602086016020860161044e565b601f01601f19169290920160200192915050565b6040815260006104bd604083018561047e565b82810360208401526104cf818561047e565b95945050505050565b634e487b7160e01b600052604160045260246000fd5b600082601f8301126104ff57600080fd5b813567ffffffffffffffff8082111561051a5761051a6104d8565b604051601f8301601f19908116603f01168101908282118183101715610542576105426104d8565b8160405283815286602085880101111561055b57600080fd5b836020870160208301376000602085830101528094505050505092915050565b6000806040838503121561058e57600080fd5b823567ffffffffffffffff808211156105a657600080fd5b6105b2868387016104ee565b935060208501359150808211156105c857600080fd5b506105d5858286016104ee565b9150509250929050565b600181811c908216806105f357607f821691505b6020821081141561061457634e487b7160e01b600052602260045260246000fd5b50919050565b6000825161062c81846020870161044e565b9190910192915050565b634e487b7160e01b600052601160045260246000fd5b600060001982141561066057610660610636565b5060010190565b60008282101561067957610679610636565b50039056fea2646970667358221220750155ef8af04ac44138caba9e80cc98fec99b835da5827495d3c0db912c8c7664736f6c634300080a0033"},"devdoc":{"kind":"dev","methods":{},"version":1},"methodIdentifiers":{"addImage(string,string)":"0xa6eecd18","getImage(uint256)":"0x2607aafa","imageCount()":"0x92053b63"},"runtimeBytecode":{"bytecode":"0x608060405234801561001057600080fd5b50600436106100415760003560e01c80632607aafa1461004657806392053b6314610070578063a6eecd1814610087575b600080fd5b610059610054366004610435565b61009a565b6040516100679291906104aa565b60405180910390f35b61007960015481565b604051908152602001610067565b61007961009536600461057b565b610222565b60608060015483106100ea5760405162461bcd60e51b8152602060048201526014602482015273125b5859d948191bd95cc81b9bdd08195e1a5cdd60621b60448201526064015b60405180910390fd5b6000838152602081905260409020805481906001820190829061010c906105df565b80601f0160208091040260200160405190810160405280929190818152602001828054610138906105df565b80156101855780601f1061015a57610100808354040283529160200191610185565b820191906000526020600020905b81548152906001019060200180831161016857829003601f168201915b50505050509150808054610198906105df565b80601f01602080910402602001604051908101604052809291908181526020018280546101c4906105df565b80156102115780601f106101e657610100808354040283529160200191610211565b820191906000526020600020905b8154815290600101906020018083116101f457829003601f168201915b505050505090509250925050915091565b60405168696d6167652f706e6760b81b60208201526000906029016040516020818303038152906040528051906020012083604051602001610264919061061a565b6040516020818303038152906040528051906020012014806102d9575060405169696d6167652f6a70656760b01b6020820152602a0160405160208183030381529060405280519060200120836040516020016102c1919061061a565b60405160208183030381529060405280519060200120145b61031e5760405162461bcd60e51b8152602060048201526016602482015275556e737570706f7274656420696d616765207479706560501b60448201526064016100e1565b60408051808201825284815260208082018590526001546000908152808252929092208151805192939192610356928492019061039c565b50602082810151805161036f926001850192019061039c565b505060018054915060006103828361064c565b9190505550600180546103959190610667565b9392505050565b8280546103a8906105df565b90600052602060002090601f0160209004810192826103ca5760008555610410565b82601f106103e357805160ff1916838001178555610410565b82800160010185558215610410579182015b828111156104105782518255916020019190600101906103f5565b5061041c929150610420565b5090565b5b8082111561041c5760008155600101610421565b60006020828403121561044757600080fd5b5035919050565b60005b83811015610469578181015183820152602001610451565b83811115610478576000848401525b50505050565b6000815180845261049681602086016020860161044e565b601f01601f19169290920160200192915050565b6040815260006104bd604083018561047e565b82810360208401526104cf818561047e565b95945050505050565b634e487b7160e01b600052604160045260246000fd5b600082601f8301126104ff57600080fd5b813567ffffffffffffffff8082111561051a5761051a6104d8565b604051601f8301601f19908116603f01168101908282118183101715610542576105426104d8565b8160405283815286602085880101111561055b57600080fd5b836020870160208301376000602085830101528094505050505092915050565b6000806040838503121561058e57600080fd5b823567ffffffffffffffff808211156105a657600080fd5b6105b2868387016104ee565b935060208501359150808211156105c857600080fd5b506105d5858286016104ee565b9150509250929050565b600181811c908216806105f357607f821691505b6020821081141561061457634e487b7160e01b600052602260045260246000fd5b50919050565b6000825161062c81846020870161044e565b9190910192915050565b634e487b7160e01b600052601160045260246000fd5b600060001982141561066057610660610636565b5060010190565b60008282101561067957610679610636565b50039056fea2646970667358221220750155ef8af04ac44138caba9e80cc98fec99b835da5827495d3c0db912c8c7664736f6c634300080a0033"},"sourceId":"contracts/onchainJpg.sol","sourcemap":"57:1118:1:-:0;;;;;;;;;;;;;;;;;;;","userdoc":{"kind":"user","methods":{},"version":1}}},"manifest":"ethpm/3","sources":{"contracts/IonchainJpg.sol":{"content":"// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\ninterface IOnchainJpg {\n    function addImage(string memory mimeType, string memory base64Data) external returns (uint256);\n    function getImage(uint256 imageId) external view returns (string memory mimeType, string memory base64Data);\n    function imageCount() external view returns (uint256);\n}\n","urls":[]},"contracts/onchainJpg.sol":{"content":"// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\ncontract OnchainJpg {\n    struct Image {\n        string mimeType; // e.g., \"image/png\" or \"image/jpeg\"\n        string base64Data; // Base64-encoded image data\n    }\n\n    mapping(uint256 => Image) private images;\n    uint256 public imageCount;\n\n    // Add an image (supports both PNG and JPEG)\n    function addImage(string memory mimeType, string memory base64Data) external returns (uint256) {\n        require(\n            keccak256(abi.encodePacked(mimeType)) == keccak256(abi.encodePacked(\"image/png\")) ||\n            keccak256(abi.encodePacked(mimeType)) == keccak256(abi.encodePacked(\"image/jpeg\")),\n            \"Unsupported image type\"\n        );\n        images[imageCount] = Image(mimeType, base64Data);\n        imageCount++;\n        return imageCount - 1; // Return the ID of the stored image\n    }\n\n    // Retrieve an image by its ID\n    function getImage(uint256 imageId) external view returns (string memory mimeType, string memory base64Data) {\n        require(imageId < imageCount, \"Image does not exist\");\n        Image storage img = images[imageId];\n        return (img.mimeType, img.base64Data);\n    }\n}\n","urls":[]}}}